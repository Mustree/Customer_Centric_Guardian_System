# ğŸš€ ê³ ê° ì¤‘ì‹¬ ê°€ë””ì–¸ ì‹œìŠ¤í…œ (Customer-Centric Guardian System)

**ERC721 ê¸°ë°˜ì˜ ì†Œì…œ ë³µêµ¬ ê¸°ëŠ¥ì´ êµ¬í˜„ëœ SBT(Soul-Bound Token) ìŠ¤ë§ˆíŠ¸ ê³„ì•½**

ì´ í”„ë¡œì íŠ¸ëŠ” í‚¤ë¥¼ ë¶„ì‹¤í–ˆì„ ë•Œ ì§€ì •ëœ 'ê°€ë””ì–¸' ë„¤íŠ¸ì›Œí¬ì˜ ìŠ¹ì¸ì„ í†µí•´ ìì‚°ì„ ë³µêµ¬í•  ìˆ˜ ìˆëŠ” SBT ì‹œìŠ¤í…œì„ ì œê³µí•©ë‹ˆë‹¤. SBTëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì „ì†¡ì´ ë¶ˆê°€ëŠ¥í•˜ì§€ë§Œ, ì´ ê³„ì•½ì€ ì •í•´ì§„ ë³µêµ¬ ì ˆì°¨ë¥¼ í†µí•´ì„œë§Œ ì†Œìœ ê¶Œ ì´ì „ì„ í—ˆìš©í•©ë‹ˆë‹¤.

---

## ğŸ“– í•µì‹¬ ê°œë…

ì´ ì‹œìŠ¤í…œì€ ì„¸ ê°€ì§€ ì£¼ìš” ì—­í• ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤:

1.  **Customer (ê³ ê°):** SBTë¥¼ ì†Œìœ í•œ ì‚¬ìš©ìì…ë‹ˆë‹¤. ê° ê³ ê°ì€ ìì‹ ì˜ ê³„ì •ì„ ë³µêµ¬í•´ ì¤„ ê°€ë””ì–¸ ê·¸ë£¹ì„ ê°€ì§‘ë‹ˆë‹¤.
2.  **Manager (ê´€ë¦¬ì):** ì‹œìŠ¤í…œì˜ íŠ¹ìˆ˜ ê´€ë¦¬ìì…ë‹ˆë‹¤. ì‹ ê·œ ê³ ê°ì„ ë“±ë¡í•˜ê³ , ë³µêµ¬ ìš”ì²­ì„ ìŠ¹ì¸/ê±°ë¶€í•  ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ ê¶Œí•œì„ ê°€ì§‘ë‹ˆë‹¤. (2ëª…)
3.  **Guardian (ê°€ë””ì–¸):** ê³ ê°ì˜ SBT ë³µêµ¬ë¥¼ ìŠ¹ì¸í•´ ì¤„ ìˆ˜ ìˆëŠ” ì£¼ì†Œì…ë‹ˆë‹¤. ì´ ì‹œìŠ¤í…œì—ì„œ ê°€ë””ì–¸ì€ **ê´€ë¦¬ì 2ëª… + ë‹¤ë¥¸ ê³ ê° 3ëª…**ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥ (Features)

* **SBT (Soul-Bound Token):** `_beforeTokenTransfer` í›…ì„ ì‚¬ìš©í•˜ì—¬ í‰ìƒì‹œì—ëŠ” `transfer`ê°€ ë¶ˆê°€ëŠ¥í•˜ë©°, ì˜¤ì§ `executeRecovery`ë¥¼ í†µí•´ì„œë§Œ ì „ì†¡ë©ë‹ˆë‹¤.
* **ì†Œì…œ ë³µêµ¬ (Social Recovery):** í‚¤ë¥¼ ë¶„ì‹¤í•œ ê³ ê°(`_lostAddress`)ì€ ìƒˆ ì£¼ì†Œ(`msg.sender`)ë¡œ ë³µêµ¬ë¥¼ ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* **M-of-N ìŠ¹ì¸:**
    * ì´ 5ëª…ì˜ ê°€ë””ì–¸(ë§¤ë‹ˆì € 2, ê³ ê° 3) ì¤‘ **3ëª… ì´ìƒì˜ ìŠ¹ì¸**ì´ í•„ìš”í•©ë‹ˆë‹¤.
    * ì•ˆì •ì„±ì„ ìœ„í•´, 3ëª…ì˜ ìŠ¹ì¸ì ì¤‘ **ìµœì†Œ 1ëª…ì€ ë°˜ë“œì‹œ ë§¤ë‹ˆì €**ì—¬ì•¼ í•©ë‹ˆë‹¤.
* **ê´€ë¦¬ì ê±°ë¶€ê¶Œ (Veto):** 2ëª…ì˜ ë§¤ë‹ˆì €ê°€ ëª¨ë‘ ê±°ë¶€í•˜ë©´ í•´ë‹¹ ë³µêµ¬ ìš”ì²­ì€ ì¦‰ì‹œ ì‹¤íŒ¨í•©ë‹ˆë‹¤.
* **ê°€ë””ì–¸ ê´€ë¦¬:** ê³ ê°ì€ ìì‹ ì˜ ê°€ë””ì–¸(ê³ ê° ê°€ë””ì–¸)ì´ ë¹„í™œì„±í™”ë  ê²½ìš° ë‹¤ë¥¸ ê³ ê°ìœ¼ë¡œ ì§ì ‘ êµì²´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (`replaceInactiveGuardian`)
* **ê³ ê° ì˜¨ë³´ë”©:** ê´€ë¦¬ìë§Œ ì‹ ê·œ ê³ ê°ì„ ì‹œìŠ¤í…œì— ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (`addCustomer`)

---

## ğŸš€ í•µì‹¬ ë³µêµ¬ ì›Œí¬í”Œë¡œìš°

1.  **ë³µêµ¬ ìš”ì²­ (Request):** ìƒˆë¡œìš´ ì£¼ì†Œ Bê°€ ë¶„ì‹¤í•œ ì£¼ì†Œ Aì˜ ë³µêµ¬ë¥¼ `requestRecovery(A)` í•¨ìˆ˜ë¡œ ìš”ì²­í•©ë‹ˆë‹¤.
2.  **ìŠ¹ì¸ (Approve):** Aì˜ ê°€ë””ì–¸(ë§¤ë‹ˆì € ë° ë‹¤ë¥¸ ê³ ê°)ë“¤ì´ `approveRecovery(A)`ë¥¼ í˜¸ì¶œí•˜ì—¬ ìš”ì²­ì„ ìŠ¹ì¸í•©ë‹ˆë‹¤.
3.  **ê±°ë¶€ (Reject):** ë§¤ë‹ˆì €ê°€ `rejectRecovery(A)`ë¥¼ í˜¸ì¶œí•˜ì—¬ ìš”ì²­ì„ ê±°ë¶€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
4.  **ë³µêµ¬ ì‹¤í–‰ (Finalize):**
    * **ì„±ê³µ:** (ìŠ¹ì¸ ìˆ˜ >= 3) **ê·¸ë¦¬ê³ ** (ë§¤ë‹ˆì € ìŠ¹ì¸ì >= 1) ì¡°ê±´ì„ ë§Œì¡±í•˜ë©´, Aì˜ SBTê°€ Bì—ê²Œ ì „ì†¡ë©ë‹ˆë‹¤.
    * **ì‹¤íŒ¨:** (ê±°ë¶€ ìˆ˜ >= 2) ì¡°ê±´ì„ ë§Œì¡±í•˜ë©´, ë³µêµ¬ ìš”ì²­ì´ ì‹¤íŒ¨í•˜ê³  ì¢…ë£Œë©ë‹ˆë‹¤.

---

## ğŸ› ï¸ ì‹œì‘í•˜ê¸° (Getting Started)

ì´ í”„ë¡œì íŠ¸ë¥¼ ë¡œì»¬ í™˜ê²½ì—ì„œ ì„¤ì •í•˜ê³  ì‹¤í–‰í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

### 1. ì‚¬ì „ ì¤€ë¹„

* [Node.js](https://nodejs.org/) (v18 or higher)
* [Git](https://git-scm.com/)

### 2. ì„¤ì¹˜

1.  ì €ì¥ì†Œ ë³µì œ:
    ```bash
    git clone [Your_Repository_URL]
    cd [Your_Project_Folder]
    ```

2.  ì˜ì¡´ì„± ì„¤ì¹˜ (Hardhat í¬í•¨):
    ```bash
    npm install
    ```

3.  í™˜ê²½ ë³€ìˆ˜ ì„¤ì •:
    `.env.example` íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ `.env` íŒŒì¼ì„ ë§Œë“œì„¸ìš”.
    ```bash
    cp .env.example .env
    ```
    ê·¸ë‹¤ìŒ `.env` íŒŒì¼ì— ë³¸ì¸ì˜ `PRIVATE_KEY`ì™€ `SEPOLIA_RPC_URL` (Alchemy ë˜ëŠ” Infura API í‚¤)ì„ ì…ë ¥í•˜ì„¸ìš”.

    *(ì°¸ê³ : `.env.example` íŒŒì¼ì„ ë£¨íŠ¸ì— ë§Œë“¤ì–´ë‘ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.)*
    ```ini
    # .env.example
    PRIVATE_KEY=""
    SEPOLIA_RPC_URL="https"
    ```

---

## ğŸ”§ ì‚¬ìš©ë²• (Usage)

### ê³„ì•½ ì»´íŒŒì¼

```bash
npx hardhat compile
```

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰

*`test/` í´ë”ì— í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.*
```bash
npx hardhat test
```

### ê³„ì•½ ë°°í¬

`scripts/deploy.js` ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ê³„ì•½ì„ ë°°í¬í•©ë‹ˆë‹¤. (ì•„ë˜ 3ë²ˆ í•­ëª© ì°¸ì¡°)

```bash
# Sepolia í…ŒìŠ¤íŠ¸ë„·ì— ë°°í¬
npx hardhat run scripts/deploy.js --network sepolia
```

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤ (License)

ì´ í”„ë¡œì íŠ¸ëŠ” [MIT] ë¼ì´ì„ ìŠ¤ë¥¼ ë”°ë¦…ë‹ˆë‹¤.